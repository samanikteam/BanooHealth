@page
@model Samanik.Web.Areas.Administration.Pages.IndexModel
@{
    Layout = "_AdminLayout";
    ViewData["Title"] = "پنل مدیریت";
    int counterArticle = 0;
}
<div class="container-fluid">
    <div class="layout-specing">
        <h5 class="mb-0">داشبورد</h5>

        <div class="row">
            <div class="col-xl-2 col-lg-4 col-md-4 mt-4">
                <div class="card features feature-primary rounded border-0 shadow p-4">
                    <div class="d-flex align-items-center">
                        <div class="icon text-center rounded-md">
                            <i class="uil uil-paperclip h3 mb-0"></i>
                        </div>
                        <div class="flex-1 me-2">
                            <h5 class="mb-0">@Model.ArticleDto.Articles.Count()</h5>
                            <p class="text-muted mb-0">مقالات</p>
                        </div>
                    </div>
                </div>
            </div><!--end col-->

            <div class="col-xl-2 col-lg-4 col-md-4 mt-4">
                <div class="card features feature-primary rounded border-0 shadow p-4">
                    <div class="d-flex align-items-center">
                        <div class="icon text-center rounded-md">
                            <i class="uil uil-box h3 mb-0"></i>
                        </div>
                        <div class="flex-1 me-2">
                            <h5 class="mb-0">@Model.productDto.Products.Count()</h5>
                            <p class="text-muted mb-0">محصولات</p>
                        </div>
                    </div>
                </div>
            </div><!--end col-->

            <div class="col-xl-2 col-lg-4 col-md-4 mt-4">
                <div class="card features feature-primary rounded border-0 shadow p-4">
                    <div class="d-flex align-items-center">
                        <div class="icon text-center rounded-md">
                            <i class="uil uil-social-distancing h3 mb-0"></i>
                        </div>
                        <div class="flex-1 me-2">
                            <h5 class="mb-0">112</h5>
                            <p class="text-muted mb-0">کارکنان</p>
                        </div>
                    </div>
                </div>
            </div><!--end col-->

            <div class="col-xl-2 col-lg-4 col-md-4 mt-4">
                <div class="card features feature-primary rounded border-0 shadow p-4">
                    <div class="d-flex align-items-center">
                        <div class="icon text-center rounded-md">
                            <i class="uil uil-comment-alt-message h3 mb-0"></i>
                        </div>
                        <div class="flex-1 me-2">
                            <h5 class="mb-0">@Model.commentDto.Comments.Count()</h5>
                            <p class="text-muted mb-0">نظرات مقاله</p>
                        </div>
                    </div>

                </div>
            </div><!--end col-->

            <div class="col-xl-2 col-lg-4 col-md-4 mt-4">
                <div class="card features feature-primary rounded border-0 shadow p-4">
                    <div class="d-flex align-items-center">
                        <div class="icon text-center rounded-md">
                            <i class="uil uil-comment-message h3 mb-0"></i>
                        </div>
                        <div class="flex-1 me-2">
                            <h5 class="mb-0">@Model.procommentDto.ProComments.Count()</h5>
                            <p class="text-muted mb-0">نظرات محصول</p>
                        </div>
                    </div>
                </div>
            </div><!--end col-->

            <div class="col-xl-2 col-lg-4 col-md-4 mt-4">
                <div class="card features feature-primary rounded border-0 shadow p-4">
                    <div class="d-flex align-items-center">
                        <div class="icon text-center rounded-md">
                            <i class="uil uil-heart-medical h3 mb-0"></i>
                        </div>
                        <div class="flex-1 me-2">
                            <h5 class="mb-0">@Model.pharmacyDto.pharmacies.Count()</h5>
                            <p class="text-muted mb-0">داروخانه‌ها</p>
                        </div>
                    </div>
                </div>
            </div><!--end col-->
        </div><!--end row-->


        <div class="row">
            <div class="col-xl-4 col-lg-6 mt-4">
                <div class="card border-0 shadow rounded">
                    <div class="d-flex justify-content-between align-items-center p-4 border-bottom">
                        <h6 class="mb-0"><i class="uil uil-paperclip text-primary ms-1 h5"></i>آخرین مقالات</h6>
                    </div>

                    <ul class="list-unstyled mb-0 p-4">

                        @foreach (var item in Model.ArticleDto.Articles.OrderByDescending(a => a.RegisterDate))
                        {
                            counterArticle++;
                            <li>
                                <div class="d-flex align-items-center justify-content-between">
                                    <div class="d-inline-flex">
                                        <img src="data:/Them/assets/img/blog;base64,@Convert.ToBase64String(item.Avatar)" class="avatar avatar-md-sm rounded-circle border shadow" alt="@item.AvatarAlt">
                                        <div class="me-3">
                                            <h6 class="text-dark mb-0 d-block">@item.Title</h6>
                                            <small class="text-muted">@item.Description</small>
                                        </div>
                                    </div>
                                    <div>
                                        <a href="/administration/blog/articles/articledetail/?id=@item.Id" class="btn btn-icon btn-pills btn-soft-primary"><i class="uil uil-edit icons"></i></a>
                                    </div>
                                </div>
                                <br />
                            </li>
                            if (counterArticle == 5)
                                break;
                        }
                    </ul>
                </div>
            </div><!--end col-->

            <div class="col-xl-4 col-lg-12 mt-4">
                <div class="card border-0 shadow rounded">
                    <div class="p-4 border-bottom">
                        <div class="d-flex justify-content-between align-items-center">
                            <h6 class="mb-0"><i class="uil uil-box text-primary ms-1 h5"></i>محصولات</h6>
                        </div>
                    </div>

                    <ul class="list-unstyled mb-0 p-4" data-simplebar style="height: 355px;">
                        @foreach (var item in Model.productDto.Products.OrderByDescending(a => a.RegisterDate))
                        {
                        <li class="d-flex align-items-center justify-content-between">
                            <div class="d-flex align-items-center">
                                <img src="data:/Them/assets/img/blog;base64,@Convert.ToBase64String(item.Avatar1)" class="avatar avatar-small rounded-circle border shadow" alt="@item.AvatarAlt1">
                                <div class="flex-1 me-3">
                                    <a href="/Products/Details/@item.Id/@item.Slug"><span class="d-block h6 mb-0">@item.Title</span></a>
                                    <small class="text-muted"> @item.Description </small>
                                </div>
                            </div>
                            @if (item.IsDelete)
                            {
                                <p class="text-muted mb-0">غیرفعال</p>
                            }
                            else
                            {
                                <p class="text-muted mb-0">فعال</p>
                            }

                        </li>
                            <br />
                        }
                    </ul>
                </div>
            </div><!--end col-->
        </div><!--end row-->
    </div>
</div><!--end container-->